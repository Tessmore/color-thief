parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"RUh7":[function(require,module,exports) {
function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}var r=function(){function e(n){t(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=n.width,this.height=this.canvas.height=n.height,this.context.drawImage(n,0,0,this.width,this.height)}return n(e,[{key:"clear",value:function(){this.context.clearRect(0,0,this.width,this.height)}},{key:"update",value:function(t){this.context.putImageData(t,0,0)}},{key:"getPixelCount",value:function(){return this.width*this.height}},{key:"getImageData",value:function(){return this.context.getImageData(0,0,this.width,this.height)}},{key:"removeCanvas",value:function(){this.canvas.parentNode.removeChild(this.canvas)}}]),e}(),o=function(){function e(){t(this,e),console.count("COLOR THIEF")}return n(e,[{key:"getColor",value:function(t,e){return this.getPalette(t,5,e)[0]}},{key:"getPalette",value:function(t,e,n){(void 0===e||e<2||e>256)&&(e=10),(void 0===n||n<1)&&(n=10);for(var o,i,u,s,c=new r(t),h=c.getImageData().data,l=c.getPixelCount(),f=[],v=0;v<l;v+=n)i=h[(o=4*v)+0],u=h[o+1],s=h[o+2],h[o+3]>=125&&(i>250&&u>250&&s>250||f.push([i,u,s]));var d=a.quantize(f,e),g=d?d.palette():null;return c.removeCanvas(),g}},{key:"getColorFromUrl",value:function(t,e,n){sourceImage=document.createElement("img");var r=this;sourceImage.addEventListener("load",function(){var o=r.getPalette(sourceImage,5,n);e(o,t)}),sourceImage.src=t}},{key:"getImageData",value:function(t,e){xhr=new XMLHttpRequest,xhr.open("GET",t,!0),xhr.responseType="arraybuffer",xhr.onload=function(t){if(200==this.status){uInt8Array=new Uint8Array(this.response),n=uInt8Array.length,binaryString=new Array(n);for(var n=0;n<uInt8Array.length;n++)binaryString[n]=String.fromCharCode(uInt8Array[n]);data=binaryString.join(""),base64=window.btoa(data),e("data:image/png;base64,"+base64)}},xhr.send()}},{key:"getColorAsync",value:function(t,e,n){var r=this;this.getImageData(t,function(t){sourceImage=document.createElement("img"),sourceImage.addEventListener("load",function(){var t=r.getPalette(sourceImage,5,n)[0];e(t,this)}),sourceImage.src=t})}}]),e}();if(!i)var i={map:function(t,e){var n={};return e?t.map(function(t,r){return n.index=r,e.call(n,t)}):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,r,o){return n.index=o,t+e.call(n,r)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?i.map(t,e):t)}};var a=function(){var t=5,e=8-t,n=1e3,r=.75;function o(e,n,r){return(e<<2*t)+(n<<t)+r}function a(t){var e=[],n=!1;function r(){e.sort(t),n=!0}return{push:function(t){e.push(t),n=!1},peek:function(t){return n||r(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return n||r(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return n||r(),e}}}function u(t,e,n,r,o,i,a){this.r1=t,this.r2=e,this.g1=n,this.g2=r,this.b1=o,this.b2=i,this.histo=a}function s(){this.vboxes=new a(function(t,e){return i.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function c(t,e){if(e.count()){var n=e.r2-e.r1+1,r=e.g2-e.g1+1,a=e.b2-e.b1+1,u=i.max([n,r,a]);if(1==e.count())return[e.copy()];var s,c,h,l,f=0,v=[],d=[];if(u==n)for(s=e.r1;s<=e.r2;s++){for(l=0,c=e.g1;c<=e.g2;c++)for(h=e.b1;h<=e.b2;h++)l+=t[o(s,c,h)]||0;f+=l,v[s]=f}else if(u==r)for(s=e.g1;s<=e.g2;s++){for(l=0,c=e.r1;c<=e.r2;c++)for(h=e.b1;h<=e.b2;h++)l+=t[o(c,s,h)]||0;f+=l,v[s]=f}else for(s=e.b1;s<=e.b2;s++){for(l=0,c=e.r1;c<=e.r2;c++)for(h=e.g1;h<=e.g2;h++)l+=t[o(c,h,s)]||0;f+=l,v[s]=f}return v.forEach(function(t,e){d[e]=f-t}),g(u==n?"r":u==r?"g":"b")}function g(t){var n,r,o,i,a,u=t+"1",c=t+"2",h=0;for(s=e[u];s<=e[c];s++)if(v[s]>f/2){for(o=e.copy(),i=e.copy(),a=(n=s-e[u])<=(r=e[c]-s)?Math.min(e[c]-1,~~(s+r/2)):Math.max(e[u],~~(s-1-n/2));!v[a];)a++;for(h=d[a];!h&&v[a-1];)h=d[--a];return o[c]=a,i[u]=o[c]+1,[o,i]}}}return u.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var e=this.histo;if(!this._count_set||t){var n,r,i,a=0;for(n=this.r1;n<=this.r2;n++)for(r=this.g1;r<=this.g2;r++)for(i=this.b1;i<=this.b2;i++)a+=e[o(n,r,i)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new u(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(e){var n=this.histo;if(!this._avg||e){var r,i,a,u,s=0,c=1<<8-t,h=0,l=0,f=0;for(i=this.r1;i<=this.r2;i++)for(a=this.g1;a<=this.g2;a++)for(u=this.b1;u<=this.b2;u++)s+=r=n[o(i,a,u)]||0,h+=r*(i+.5)*c,l+=r*(a+.5)*c,f+=r*(u+.5)*c;this._avg=s?[~~(h/s),~~(l/s),~~(f/s)]:[~~(c*(this.r1+this.r2+1)/2),~~(c*(this.g1+this.g2+1)/2),~~(c*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var n=t[0]>>e;return gval=t[1]>>e,bval=t[2]>>e,n>=this.r1&&n<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},s.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,r,o=this.vboxes,i=0;i<o.size();i++)((n=Math.sqrt(Math.pow(t[0]-o.peek(i).color[0],2)+Math.pow(t[1]-o.peek(i).color[1],2)+Math.pow(t[2]-o.peek(i).color[2],2)))<e||void 0===e)&&(e=n,r=o.peek(i).color);return r},forcebw:function(){var t=this.vboxes;t.sort(function(t,e){return i.naturalOrder(i.sum(t.color),i.sum(e.color))});var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,r=t[n].color;r[0]>251&&r[1]>251&&r[2]>251&&(t[n].color=[255,255,255])}},{quantize:function(h,l){if(!h.length||l<2||l>256)return!1;var f=function(n){var r,i,a,u,s=new Array(1<<3*t);return n.forEach(function(t){i=t[0]>>e,a=t[1]>>e,u=t[2]>>e,r=o(i,a,u),s[r]=(s[r]||0)+1}),s}(h);f.forEach(function(){});var v=function(t,n){var r,o,i,a=1e6,s=0,c=1e6,h=0,l=1e6,f=0;return t.forEach(function(t){r=t[0]>>e,o=t[1]>>e,i=t[2]>>e,r<a?a=r:r>s&&(s=r),o<c?c=o:o>h&&(h=o),i<l?l=i:i>f&&(f=i)}),new u(a,s,c,h,l,f,n)}(h,f),d=new a(function(t,e){return i.naturalOrder(t.count(),e.count())});function g(t,e){for(var r,o=1,i=0;i<n;)if((r=t.pop()).count()){var a=c(f,r),u=a[0],s=a[1];if(!u)return;if(t.push(u),s&&(t.push(s),o++),o>=e)return;if(i++>n)return}else t.push(r),i++}d.push(v),g(d,r*l);for(var p=new a(function(t,e){return i.naturalOrder(t.count()*t.volume(),e.count()*e.volume())});d.size();)p.push(d.pop());g(p,l-p.size());for(var m=new s;p.size();)m.push(p.pop());return m}}}();document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("filedrop");function e(t){var e=new FileReader;if(e.readAsDataURL(t),t.type.match(/image.*/)){var n=new o;e.onload=function(t){n.getColorFromUrl(t.target.result,function(t){var e=new CustomEvent("show-results",{detail:t});window.dispatchEvent(e)})}}else alert("File must be a supported image type.")}window.addEventListener("show-results",function(t){var e=t.detail;if(!e||!e.length)return document.getElementById("result").innerHTML="No file input provided.",void(document.getElementById("result").className="fail");var n=document.createElement("div");n.className="palette";for(var r=document.createElement("ul"),o=0;o<e.length;o++){var i=document.createElement("li"),a=e[o],u="rgb("+a[0]+","+a[1]+","+a[2]+")";i.setAttribute("style","background-color: "+u);var s=document.createTextNode(""+e[o]);i.appendChild(s),r.appendChild(i)}n.appendChild(r),document.getElementById("result").appendChild(n)},!1),t.ondragover=function(){return this.classList.add("hover"),!1},t.ondragleave=function(){return this.classList.remove("hover"),!1},t.ondrop=function(t){if(void 0!==window.FileReader){this.classList.remove("hover"),t.preventDefault();for(var n=t.dataTransfer.files,r=0;r<n.length;r++)e(n[r]);return!1}alert("The browser does not support file drag & drop.")}});
},{}]},{},["RUh7"], null)